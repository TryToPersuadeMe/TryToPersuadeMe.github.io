class SpoilerTab{constructor(t){this.spoiler=document.querySelectorAll(t.spoiler),this.dropDown=document.querySelectorAll(t.dropDown),this.button=document.querySelectorAll(t.button),this.handleClick()}openState(t){t.classList.add("spoilerTab__dropDown_open")}closeState(t){t.classList.remove("spoilerTab__dropDown_open")}toggleState(t){t.classList.contains("spoilerTab__dropDown_open")?this.closeState(t):this.openState(t)}handleClick(){document.addEventListener("mouseup",()=>{if(event.target.offsetParent.classList.contains("spoilerTab__button")){let t=Array.from(this.button).indexOf(event.target.parentNode),e=this.dropDown[t];this.toggleState(e)}})}}let spoilerTab=new SpoilerTab({spoiler:".spoilerTab",button:".spoilerTab__button",dropDown:".spoilerTab__dropDown"});class Header{constructor(t){this.burgerIcon_active=document.querySelector(t.burgerIcon_active),this.burgerIcon_close=document.querySelector(t.burgerIcon_close),this.header=document.querySelector(t.header),this.header_active=t.header_active,this.body=document.getElementsByTagName(t.body)[0],this.wrapper=document.querySelector(t.wrapper),this.toggleState(),this.windowClick()}toggleState(){this.burgerIcon_close.addEventListener("click",()=>{this.closeState()}),this.burgerIcon_active.addEventListener("click",()=>{this.openState()})}openState(){this.header.classList.add(this.header_active),this.body.classList.add("body-lock"),this.wrapper.classList.add("wrapper_shadow")}closeState(){this.header.classList.remove(this.header_active),this.body.classList.remove("body-lock"),this.wrapper.classList.remove("wrapper_shadow")}windowClick(){window.addEventListener("click",()=>{event.target==this.wrapper&&(this.header.classList.remove(this.header_active),this.body.classList.remove("body-lock"),this.wrapper.classList.remove("wrapper_shadow"))})}}const responsive=new Header({burgerIcon_active:".header__burgerIcon_active",burgerIcon_close:".header__burgerIcon_close",header:".navigation",header_active:"navigation_active",body:"body",wrapper:".wrapper"});class LogedState{constructor(t){this.$loginButton=document.querySelector(t.loginButton),this.$exitButton=document.querySelector(t.exitButton),this.$logedState=document.querySelector(t.logedState),this.$unLogedState=document.querySelector(t.unLogedState),this.logedStateButtons=t.logedStateButtons,this.clickLogin=this.clickLogin.bind(this)(),this.clickExit=this.clickExit.bind(this)()}clickLogin(){this.$loginButton.addEventListener("click",()=>{this.$logedState.classList.remove(this.logedStateButtons),this.$unLogedState.classList.add(this.logedStateButtons)})}clickExit(){this.$exitButton.addEventListener("click",()=>{this.$logedState.classList.add(this.logedStateButtons),this.$unLogedState.classList.remove(this.logedStateButtons)})}}const loged=new LogedState({logedStateButtons:"login-js_changeState",exitButton:".login-js__exit",loginButton:".login-js__loginButton",logedState:".login-js_loged",unLogedState:".login-js_unloged"});class rSlider{constructor(t){this.el=document.querySelector(t.element),this.form=document.querySelector(t.form),this.dataRange=document.createElement("div"),this.valueInput=document.createElement("input"),this.progressBar=document.createElement("span"),this.valueInput.className="rangeInput__valueInput",this.progressBar.className="rangeInput__progressBar",this.valueInput.setAttribute("readonly",""),this.el.parentElement.appendChild(this.progressBar,this.el),this.progressBar.appendChild(this.valueInput,this.el),this.inputs=document.querySelectorAll(".watch-progressBar-js"),this.updatePos()}center(t){this.valueInput.style.transform=t>50?"translateX(-50%)":"translateX(50%)"}updatePos(){let t=100/this.inputs.length,e=0;this.valueInput.value="0 %",$(".dateCalendar").each((function(s,i){$(i).on("apply.daterangepicker",(function(s,o){$(i).hasClass("counted-js")||(e+=1,$(".rangeInput__progressBar").css("maxWidth",(""+t)*(""+e)+"%"),$(".rangeInput__valueInput").val(Math.trunc(t*e)+"%"),$(i).addClass("counted-js"))}))})),this.form.addEventListener("click",()=>{event.target.classList.contains("select__item")&&!event.target.offsetParent.classList.contains("counted-select-js")&&(e+=1,this.progressBar.style.maxWidth=this.dataRange.offsetWidth+t*e+"%",this.valueInput.value=Math.trunc(t*e)+"%",event.target.offsetParent.classList.add("counted-select-js"))});for(let s=0;s<this.inputs.length;s++)this.inputs[s].setAttribute("data-watch","false"),this.inputs[s].value="",this.inputs[s].addEventListener("input",()=>{if(t<0||e<0)return this.valueInput.value="0 %",e=0,void(t=100/this.inputs.length);if(event.target.checked||event.target.value.length>0){if("true"==event.target.dataset.watch)return;e++,event.target.setAttribute("data-watch","true"),this.progressBar.style.maxWidth=this.dataRange.offsetWidth+t*e+"%",this.valueInput.value=Math.trunc(t*e)+"%",this.center(t*e)}else e--,this.valueInput.value=Math.trunc(t*e)+"%",this.progressBar.style.maxWidth=t*e+"%",event.target.setAttribute("data-watch","false"),this.center(t*e)})}}let range1=new rSlider({element:".rangeInput__line",form:".form-watch-rangeInput-js",watchingFields:".watch-progressBar-js"});class AuthorizationForm{constructor(t){this.authorizationForm=document.querySelector(t.authorizationForm),this.tab=document.querySelectorAll(t.tabs),this.tab_inactive=t.tab_inactive,this.loginForm=document.querySelector(t.loginForm),this.registrationForm=document.querySelector(t.registrationForm),this.tabClick(),this.loginButton=document.querySelector(".login-js__loginButton"),this.registrationButton=document.querySelector(".login-js__registration"),this.body=document.getElementsByTagName("body")[0],this.wrapper=document.querySelector(t.wrapper),this.popUp(),this.closeIcon=document.querySelector(t.closeIcon),this.windowClick(),this.clickCloseIcon()}tabClick(){for(let t=0;t<this.tab.length;t++)this.tab[t].addEventListener("click",()=>{this.tab[t].classList.contains("authorizationForm__tab-login-js")?(this.authorizationForm.classList.add("authorizationForm_login"),this.tab[1].classList.add(this.tab_inactive),this.tab[0].classList.remove(this.tab_inactive)):(this.authorizationForm.classList.remove("authorizationForm_login"),this.tab[0].classList.add(this.tab_inactive),this.tab[1].classList.remove(this.tab_inactive))})}popUp(){this.loginButton.addEventListener("click",()=>{this.authorizationForm.classList.add("authorizationForm_active"),this.body.classList.add("body-lock"),this.wrapper.classList.add("wrapper_shadow")}),this.registrationButton.addEventListener("click",()=>{this.authorizationForm.classList.add("authorizationForm_active"),this.body.classList.add("body-lock"),this.wrapper.classList.add("wrapper_shadow")})}closePopUp(){this.authorizationForm.classList.remove("authorizationForm_active"),this.body.classList.remove("body-lock"),this.wrapper.classList.remove("wrapper_shadow")}windowClick(){window.addEventListener("click",()=>{event.target==this.wrapper&&this.closePopUp()})}clickCloseIcon(){this.closeIcon.addEventListener("click",()=>{this.closePopUp()})}}const authorizationForm=new AuthorizationForm({authorizationForm:".authorizationForm",tabs:".authorizationForm__tab",tab_inactive:"authorizationForm__tab_inactive",loginForm:".authorizationForm__loginFormWrapper",registrationForm:".authorizationForm__registrationFormWrapper",closeIcon:".authorizationForm__closeIcon",wrapper:".wrapper"}),togglePasswodVisible=()=>{const t=document.querySelectorAll(".show-password-js");for(let e=0;e<t.length;e++)t[e].addEventListener("click",()=>{t[e].classList.contains("show-password-js-visible")?(t[e].previousElementSibling.type="password",t[e].classList.remove("show-password-js-visible")):(t[e].previousElementSibling.type="text",t[e].classList.add("show-password-js-visible"))})};togglePasswodVisible();class AdditionalFormPick{constructor(t){this.form=document.querySelector(t.form),this.formWrapper=document.querySelectorAll(t.formWrapper),this.formWrapper_active=document.querySelector(t.formWrapper_active),this.nextButton=document.querySelectorAll(t.nextButton),this.previousButton=document.querySelectorAll(t.previousButton),this.checkbox=document.querySelectorAll(t.checkbox),this.watchingCheckboxes=document.querySelectorAll(t.watchingInput+'[type = "checkbox"]'),this.formTitle=document.querySelector(t.form__title),this.watchingInput=document.querySelectorAll(t.watchingInput),this.checkBoxWrapper=document.querySelectorAll(t.checkBoxWrapper),this.checkBoxContent=document.querySelector(".check-box-push-js"),this.toggleState()}nextButtonClick(){this.count<this.chosenForms.length?(this.formWrapper.forEach(t=>{t.classList.remove("form__wrapper_active"),t.classList.remove("form__wrapper_animation")}),this.chosenForms[this.count].classList.add("form__wrapper_active"),console.log(this.formWrapper[this.count].dataset.title),setTimeout(()=>{this.chosenForms[this.count].classList.add("form__wrapper_animation"),this.checkBoxWrapper[this.chosenForms[this.count].dataset.formkey].appendChild(this.checkBoxContent),this.count=this.count+1,this.formTitle.innerText=this.formWrapper[this.count].dataset.title},0)):console.log("send data here")}previousButtonClick(){this.formWrapper.forEach(t=>{t.classList.remove("form__wrapper_active"),t.classList.remove("form__wrapper_animation")}),this.count=this.count-1,this.formWrapper[this.count].classList.add("form__wrapper_active"),setTimeout(()=>{this.formWrapper[this.count].classList.add("form__wrapper_animation"),this.checkBoxWrapper[this.count].appendChild(this.checkBoxContent),this.formTitle.innerText=this.formWrapper[this.count].dataset.title},0)}toggleState(){this.count=0,this.form.addEventListener("click",t=>{this.getChosenForms(),this.chosenForms.length>0&&(t.target.classList.contains("button-next-js")?(t.preventDefault(),this.nextButtonClick()):t.target.classList.contains("button-previous-js")&&(t.preventDefault(),this.previousButtonClick()))})}getChosenForms(){this.checkedCheckboxes=Array.from(this.watchingCheckboxes).map((t,e)=>{if(t.dataset.checkboxkey>"0"&&1==t.checked)return this.formWrapper[e+1]}),this.chosenForms=this.checkedCheckboxes.filter(t=>void 0!==t)}}let additionalFormPick=new AdditionalFormPick({nextButton:".button-next-js",previousButton:".button-previous-js",form:".form ",formWrapper:".form__wrapper",formWrapper_active:".form__wrapper_active",form__title:".form__title",watchingInput:".watch-progressBar-js",checkBoxWrapper:".form__checkBoxWrapper"});$(document).ready((function(){$(".dateCalendar").daterangepicker({singleDatePicker:!0,autoApply:!0,linkedCalendars:!1,showCustomRangeLabel:!1,opens:"center",showDropdowns:!0,locale:{format:"DD-MM-YYYY",daysOfWeek:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],monthNames:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],firstDay:1}}),$(".dateCalendar").val("")}));class Select{constructor(t){if("string"==typeof t&&(t=document.querySelectorAll(t)),"function"==typeof t[Symbol.iterator])return[...t].map(t=>new Select(t));this.$select=t,this.$inputField=this.$select.querySelector("input"),this.$label=this.$select.querySelector(".select__label"),this.$body=document.querySelector("body"),this.handleClick(),this.hanldeClickWindow()}openState(){this.$select.classList.add("open")}closeState(){this.$select.classList.remove("open")}toggleState(){this.$select.classList.contains("open")?this.closeState():this.openState()}handleClick(){this.$select.addEventListener("mouseup",()=>{this.toggleState(),this.handleValue()})}handleValue(){event.target!=this.$label&&(this.$inputField.value=event.target.innerText,this.validateState())}validateState(){this.$label.classList.add("valid")}hanldeClickWindow(){window.addEventListener("click",()=>{event.target!=this.$label&&this.closeState()})}}const select=new Select(".select");class Valid{constructor(t){this.inputs=document.querySelectorAll(".input"),this.validState=t.validState,this.validCalendar(),this.validInputField()}validCalendar(){$(".dateCalendar").each((function(t,e){$(e).on("apply.daterangepicker",(function(t,s){$(e).addClass("input__valid")}))}))}stateRule(){event.target.value.length>0?event.target.classList.add("input__valid"):event.target.classList.remove("input__valid")}validInputField(){document.addEventListener("input",()=>{this.stateRule()})}}let valid=new Valid({validState:"input__valid"});