const header={button:"header__burgerMenu",navigation:"navigation",screen:"wrapper",logo:"header__logo",language:"language"},handleClick=document.querySelector("."+header.button),nav=document.querySelector("."+header.navigation),body=document.getElementsByTagName("body")[0],screen=document.querySelector("."+header.screen),logo=document.querySelector("."+header.logo),language=document.querySelector("."+header.language),chooseLanguage=document.querySelectorAll("."+header.language);handleClick.addEventListener("click",(function(){this.classList.toggle(header.button+"_active"),nav.classList.toggle(header.navigation+"_active"),screen.classList.toggle("shadow"),body.classList.toggle("block"),handleClick.classList.contains(header.button+"_active")?(logo.style.opacity=0,language.style.opacity=0):(logo.style.opacity=1,language.style.opacity=1)})),window.addEventListener("click",(function(){event.target==nav&&nav.classList.contains(header.navigation+"_active")&&event.target!=handleClick&&(body.classList.remove("block"),handleClick.classList.remove(header.button+"_active"),nav.classList.remove(header.navigation+"_active"),screen.classList.remove("shadow"),logo.style.opacity=1,language.style.opacity=1)}));const menuLink=document.querySelector(".navigation__links_service"),subMenu=document.querySelector(".subMenu");menuLink.addEventListener("mouseenter",(function(){let e=event.currentTarget.nextElementSibling;e.classList.add("subMenu_active"),e.style.maxHeight=10*e.scrollHeight+"px"})),subMenu.addEventListener("mouseleave",(function(){subMenu.classList.remove("subMenu_active"),subMenu.style.maxHeight=subMenu.style.maxHeight=0})),screen.addEventListener("click",(function(){event.target!=subMenu&&(subMenu.style.maxHeight=subMenu.style.maxHeight=0,subMenu.classList.remove("subMenu_active"))})),language.addEventListener("click",(function(){this.querySelector("."+header.language+"__wrapper").classList.toggle(header.language+"_open")}));for(const e of document.querySelectorAll("."+header.language+"__item"))e.addEventListener("click",(function(){this.classList.contains("."+header.language+"__item_selected")||(this.parentNode.querySelector("."+header.language+"__item."+header.language+"__item_selected").classList.remove("."+header.language+"__item_selected"),this.classList.add(header.language+"__item_selected"),this.closest("."+header.language+"__wrapper").querySelector("."+header.language+"__choosen").innerHTML=this.innerHTML)}));window.addEventListener("click",(function(e){const t=document.querySelector("."+header.language+"__wrapper");t.contains(e.target)||t.classList.remove(header.language+"_open")}));const totalInput=document.getElementById("totalQuantity");let coefValue=1;window.addEventListener("DOMContentLoaded",()=>{new rSlider({element:"#sliderRange",tick:1})});class rSlider{constructor(e){this.el=document.querySelector(e.element),this.min=+this.el.min||0,this.max=+this.el.max||100,this.step=+this.el.step||1,this.tick=e.tick||this.step,this.addTicks(),this.dataRange=document.createElement("div"),this.dataRange.className="data-range",this.el.parentElement.appendChild(this.dataRange,this.el),this.updatePos(),this.el.addEventListener("input",()=>{this.updatePos()})}addTicks(){let e=document.createElement("div");e.className="range",this.el.parentElement.insertBefore(e,this.el),e.appendChild(this.el);let t=document.createElement("div");t.className="range-ticks",e.appendChild(t);for(let e=this.min;e<=this.max;e+=this.tick){let e=document.createElement("span");e.className="range-tick",t.appendChild(e);let n=document.createElement("span");n.className="range-tick-text",e.appendChild(n)}}getRangePercent(){let e=this.el.max,t=this.el.min;return(this.el.value-t)/(e-t)}updatePos(){let e=this.getRangePercent(),t=100*e,n=3*e;this.dataRange.style.left=`calc(${t}% - ${n}em)`,totalInput.value=this.el.value*coefValue+"%"}}document.querySelector(".custom-select-wrapper").addEventListener("click",(function(){this.querySelector(".custom-select").classList.toggle("open")}));for(const e of document.querySelectorAll(".custom-option"))e.addEventListener("click",(function(){this.classList.contains("selected")||(this.classList.add("selected"),this.parentNode.querySelector(".custom-option.selected").classList.remove("selected"),this.closest(".custom-select").querySelector(".custom-select__trigger span").textContent=this.textContent,console.log("asd"),console.log(this))}));window.addEventListener("click",(function(e){const t=document.querySelector(".custom-select");t.contains(e.target)||t.classList.remove("open")}));const form=document.getElementById("form"),name=document.getElementById("name"),inputs=form.getElementsByTagName("input"),radioSets=document.querySelectorAll(".applicationForm__radioFieldSet");radioSets.forEach(e=>e.getElementsByTagName("input")[0].checked=!0),form.addEventListener("submit",(function(){let e={name:name.value,email:email.value,contacts:contacts.value,totalMarks:totalMarks.value,totalInput:totalInput.value};for(let t=0;t<inputs.length;t++)"radio"==inputs[t].type&&1==inputs[t].checked&&(key=inputs[t].getAttribute("name"),value=inputs[t].nextElementSibling.innerText,e[key]=value);console.log(e),event.preventDefault();const t=JSON.stringify(e),n=new XMLHttpRequest;n.open("POST","../php/index.php"),n.setRequestHeader("Content-Type","application/json"),n.send(t),console.log(t)}));