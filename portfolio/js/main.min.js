const classes={wrapper:"block__box",column:"block__column",image:"block__image",slider:"slider"};let block=document.querySelectorAll("."+classes.wrapper),image=document.querySelectorAll("."+classes.image),column=document.querySelectorAll("."+classes.column),slider=document.querySelector("."+classes.slider),scrollCoef=.0035;document.addEventListener("scroll",(function(){(()=>{for(let e=0;e<image.length;e++){let l=block[e].getBoundingClientRect().top,t=1-l*scrollCoef;l>=0?(column[e].style.opacity=t+.5,image[e].style.opacity=t+.5):(column[e].style.opacity=2.5-t,image[e].style.opacity=2.5-t)}})();(()=>{let e=slider.getBoundingClientRect().top,l=1-e*scrollCoef;slider.style.opacity=e>=0?l+.5:2-l})()}));let observer=new IntersectionObserver(e=>{e.forEach((e,l)=>{e.target.getBoundingClientRect().top;e.isIntersecting?e.target.lastElementChild.classList.add(classes.image+"_active"):e.target.lastElementChild.classList.remove(classes.image+"_active")})},{threshold:[.1,.15,.2,.25,.3,.35,.4,.45,.5,.55,.6,.65,.7,.75,.8,.85,.9,.95,1]});block.forEach(e=>observer.observe(e)),$(document).ready(()=>{$(".slider__wrapper").slick({infinite:!0,arrows:!1,slidesToShow:3,slidesToScroll:1,centerMode:!0,variableWidth:!0,dots:!0,autoplay:!0,autoplaySpeed:2e3})});